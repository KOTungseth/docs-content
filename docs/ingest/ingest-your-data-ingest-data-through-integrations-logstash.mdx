---
id: serverlessElasticsearchIngestDataThroughLogstash
slug: /serverless/elasticsearch/ingest-data-through-logstash
title: Logstash
description: Use ((ls)) to ship data to ((es-serverless)).
tags: [ 'serverless', 'elasticsearch', 'ingest', 'logstash', 'how to' ]
status: in review
---

<DocBadge template="technical preview" />
((ls)) is an open source data collection engine with real-time pipelining capabilities.
It supports a wide variety of data sources, and can dynamically unify data from disparate sources and normalize the data into destinations of your choice.

((ls)) can collect data using a variety of ((ls)) [input plugins](((logstash-ref))/input-plugins.html), enrich and transform the data with ((ls)) [filter plugins](((logstash-ref))/filter-plugins.html),
and output the data to ((es-serverless)) using the ((ls)) [Elasticsearch output plugin](https://www.elastic.co/guide/en/logstash-versioned-plugins/current/v11.18.0-plugins-outputs-elasticsearch.html).

You can use ((ls)) to extend <DocLink id="serverlessElasticsearchIngestDataThroughBeats" text="Beats"/> for advanced use cases,
such as data routed to multiple destinations or when you need to make your data persistent.


<DocCallOut id="ls-serverless-notes" title="Logstash for Elastic Serverless">

((ls)) is a powerful, versatile ETL (Extract, Transform, Load) engine that can play an important role in organizations of all sizes.
Some capabilities and features for large, self-managed users aren't appropriate for ((serverless-short)).

You'll use the ((ls)) [Elasticsearch output plugin](https://www.elastic.co/guide/en/logstash-versioned-plugins/current/v11.18.0-plugins-outputs-elasticsearch.html) to send data to ((es-serverless)).
Some differences to note between ((es-serverless)) and self-managed ((es)):

- Your logstash-output-elasticsearch configuration uses **API keys** to access ((es)) from ((ls)). 
User-based security settings are ignored and may cause errors.
- ((es-serverless)) uses **((dlm)) (((dlm-init)))** instead of ((ilm)) (((ilm-init))). 
If you add ((ilm-init)) settings to your ((es)) output configuration, they are ignored and may cause errors.
- **((ls)) monitoring** for ((serverless-short)) is available through the [((ls)) Integration](https://github.com/elastic/integrations/blob/main/packages/logstash/_dev/build/docs/README.md) in <DocLink id="serverlessObservabilityWhatIsObservabilityServerless" text="Elastic Observability"/>.

**Known issue**

* The logstash-output-elasticsearch `hosts` setting defaults to port `:9200`. 
Set the value to port `:443` instead. 

</DocCallOut>

## Requirements

To use ((ls)) to send data to ((es-serverless)), you must be using:
- ((ls)) 8.10.1 or later
- ((ls)) [Elasticsearch output plugin v11.18.0](https://www.elastic.co/guide/en/logstash-versioned-plugins/current/v11.18.0-plugins-outputs-elasticsearch.html) or later
- ((ls)) [Elasticsearch input plugin v4.18.0](https://www.elastic.co/guide/en/logstash-versioned-plugins/current/v4.18.0-plugins-inputs-elasticsearch.html) or later
- ((ls)) [Elasticsearch filter plugin v3.16.0](https://www.elastic.co/guide/en/logstash-versioned-plugins/current/v3.16.0-plugins-filters-elasticsearch.html) or later

## API keys for connecting ((ls)) to ((es-serverless))

Use the **Security: API key** section in the UI to <DocLink id="serverlessApiKeys">create an API key</DocLink> 
for securely connecting the ((ls)) ((es)) output to ((es-serverless)).  
We recommend creating a unique API key per ((ls)) instance.
You can create as many API keys as necessary.

When you set up your API keys, use the metadata option to tag each API key with details that are meaningful to you. 
This step makes managing multiple API keys easier.

After you generate an API key, add it to your ((ls)) [Elasticsearch output plugin](((logstash-ref))/plugins-outputs-elasticsearch.html) config file's `api_key` setting. 
Here's an example:

```bash
output {
  elasticsearch {
    api_key => "TiNAGG4BaaMdaH1tRfuU:KnR6yE41RrSowb0kQ0HWoA" 
  }
}
```

## Next steps

Check out the [Logstash product page](https://www.elastic.co/logstash) to see what ((ls)) can do for you.
When you're ready, 
 dive into the [Logstash documentation](((logstash-ref))/index.html).
